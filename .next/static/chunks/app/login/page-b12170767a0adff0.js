(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9524:(e,t,s)=>{Promise.resolve().then(s.bind(s,9302))},9302:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),r=s(2115),n=s(6658);function o(){let[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),[i,u]=(0,r.useState)(!1),c=(0,n.useRouter)(),h=async t=>{t.preventDefault(),u(!0);try{let t=await fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),a=await t.json();if(!t.ok)throw Error(a.error||"Login failed");d(a.message),a.token&&(localStorage.setItem("authToken",a.token),c.push("/"))}catch(e){d(e.message)}finally{u(!1)}};return(0,a.jsxs)("div",{className:"p-4 max-w-sm mx-auto bg-white rounded shadow",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Login"}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsx)("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value),className:"block w-full p-2 mb-3 border rounded",required:!0}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>o(e.target.value),className:"block w-full p-2 mb-3 border rounded",required:!0}),(0,a.jsx)("button",{type:"submit",className:"w-full text-white p-2 rounded transition-all ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600"),disabled:i,children:i?(0,a.jsx)("div",{className:"spinner-border animate-spin inline-block w-4 h-4 border-2 border-t-transparent border-white rounded-full"}):"Login"})]}),l&&(0,a.jsx)("p",{className:"mt-2 text-sm ".concat(l.includes("successful")?"text-green-600":"text-red-600"),children:l})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(9524)),_N_E=e.O()}]);