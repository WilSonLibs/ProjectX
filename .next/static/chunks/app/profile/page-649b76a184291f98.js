(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{6202:(e,t,a)=>{Promise.resolve().then(a.bind(a,2303))},2303:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),n=a(2115);let o=()=>{let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)({username:"",email:""}),[r,l]=(0,n.useState)(""),[i,u]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,h]=(0,n.useState)("");(0,n.useEffect)(()=>{t(localStorage.getItem("token"))},[]);let p=async()=>{if(!e)return;let t=await fetch("http://localhost:5000/profile",{headers:{Authorization:"Bearer ".concat(e)}});o((await t.json()).user)};(0,n.useEffect)(()=>{p()},[e]);let b=async t=>{if(t.preventDefault(),!e)return;let a=await fetch("http://localhost:5000/profile/username",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({username:r})});h((await a.json()).message)},f=async t=>{if(t.preventDefault(),!e)return;let a=await fetch("http://localhost:5000/profile/password",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({password:i})});h((await a.json()).message)},x=async t=>{if(t.preventDefault(),!e)return;let a=await fetch("http://localhost:5000/profile/mobile-money",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({mobileMoneyAccount:c})});h((await a.json()).message)};return(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-medium",children:["Username: ",a.username]}),(0,s.jsxs)("form",{onSubmit:b,className:"mt-4",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"New username",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"submit",className:"mt-4 w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-200",children:"Change Username"})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("h2",{className:"text-2xl font-medium",children:["Email: ",a.email]})}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Change Password"}),(0,s.jsxs)("form",{onSubmit:f,children:[(0,s.jsx)("input",{type:"password",value:i,onChange:e=>u(e.target.value),placeholder:"New password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"submit",className:"mt-4 w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-200",children:"Change Password"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Link Mobile Money Account"}),(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Mobile Money Account",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"submit",className:"mt-4 w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition duration-200",children:"Link Account"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),t(null),window.location.href="/login"},className:"w-full bg-red-500 text-white py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Logout"})}),m&&(0,s.jsx)("div",{className:"mt-4 text-center text-sm text-green-500",children:m})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(6202)),_N_E=e.O()}]);